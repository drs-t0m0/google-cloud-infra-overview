# Identity and Access Management (IAM) 解説

## Google Cloud IAM の主な機能

Google Cloud IAM は、Google Cloud リソースへのアクセスを安全に管理するための基盤となるサービスです。主な機能は以下の通りです。

* **きめ細かいアクセス制御:** プロジェクト、フォルダ、組織、さらには個々のリソースレベルで、誰がどのリソースに対してどのような操作を実行できるかを詳細に定義できます。
* **役割ベースのアクセス制御 (RBAC):** 権限をまとめた「役割」をユーザー、グループ、サービスアカウントに付与することで、効率的かつ一貫性のあるアクセス管理を実現します。
    * **基本の役割:** オーナー、編集者、閲覧者といったプロジェクト全体に影響する基本的な役割です。
    * **事前定義された役割:** 特定のサービス（Compute Engine、Cloud Storage など）に対して、より細かく定義された役割です。
    * **カスタム役割:** 組織のニーズに合わせて、特定の権限を組み合わせて作成できる役割です。
* **一元的な管理:** Google Cloud Console、Cloud Shell、API を通じて、組織全体のアクセス制御ポリシーを一元的に管理できます。
* **監査ログ:** 誰がいつ、何をしたかの操作履歴を自動的に記録し、セキュリティとコンプライアンスの要件を満たすのに役立ちます。
* **Google アカウントと統合:** Google アカウント、Google グループ、Cloud Identity を利用して、ユーザーとグループを管理できます。
* **サービスアカウント:** Google Cloud サービスやアプリケーションがプログラムから Google Cloud リソースにアクセスするための特別なアカウントです。
* **条件付きアクセス:** デバイスのセキュリティ状態、IP アドレス、日時などの属性に基づいて、アクセスを制御できます。
* **Workforce Identity Federation:** 外部の ID プロバイダ（Okta、Azure AD など）の ID を使用して、Google Cloud リソースへのアクセスを許可できます。

## 料金

Google Cloud IAM 自体の利用に追加料金はかかりません。Google Cloud Platform の他のサービスの利用料金のみが発生します。

## 類似サービスとの比較

類似のサービスとしては、AWS Identity and Access Management (IAM) や Azure Active Directory (Azure AD) などがあります。

* **AWS IAM:** ポリシーを中心とした設計で、JSON 形式で詳細なアクセス許可ポリシーを記述します。柔軟性が高い一方、複雑になる可能性もあります。グローバルサービスであり、リージョンに依存しません。
* **Azure AD:** Microsoft のクラウドベースの ID およびアクセス管理サービスで、SaaS アプリケーションとの連携や多要素認証などの機能が豊富です。Google Cloud IAM と同様に、役割ベースのアクセス制御を提供します。

Google Cloud IAM は、役割を中心とした設計で、Google Cloud サービスとの親和性が高く、一貫したアクセス管理インターフェースを提供します。AWS IAM よりも比較的シンプルな概念で理解しやすいと言われることもあります。

## 利用シナリオ

Google Cloud IAM は、以下のような様々なシナリオで利用されます。

* **複数メンバーでのプロジェクト共同作業:** チームメンバーに適切な役割を付与することで、必要なリソースへのアクセス権限のみを与え、誤操作や不正アクセスを防ぎます。
* **アプリケーションからのリソースアクセス:** サービスアカウントを利用して、アプリケーションが Cloud Storage バケットやデータベースなどのリソースに安全にアクセスできるようにします。
* **外部パートナーとの連携:** Workforce Identity Federation を利用して、外部のパートナー企業に一時的なアクセス権限を付与し、安全に共同作業を行います。
* **コンプライアンス要件への対応:** 監査ログ機能を活用して、アクセス状況を監視し、セキュリティポリシーや規制要件への準拠を証明します。
* **きめ細かいセキュリティポリシーの適用:** 組織のセキュリティ要件に合わせてカスタム役割を作成し、最小限の権限の原則に基づいたアクセス制御を実現します。
* **ハイブリッドクラウド環境での ID 管理:** 既存のオンプレミス Active Directory と連携し、クラウドとオンプレミスの両方で一貫した ID 管理を行います。

Google Cloud IAM を理解し適切に活用することで、Google Cloud 環境のセキュリティを強化し、効率的なリソース管理を実現できます。

## 参考

- https://cloud.google.com/iam/docs/overview?hl=ja
- https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google_service_account_iam
